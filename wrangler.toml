# Cloudflare Workers configuration
name = "playims"
compatibility_date = "2024-09-25"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = ".svelte-kit/cloudflare"

# --- Development (Default) ---
# Used by `pnpm dev`, `wrangler pages dev`, and `wrangler d1 ...` (no env flag)
[[d1_databases]]
binding = "DB"
database_name = "playims-central-db-dev"
database_id = "66dc8c86-b1da-4882-b259-f7847ecf5350"
migrations_dir = "src/lib/database/migrations"

# --- Production ---
# Used when passing `--env production` (mostly for Workers, but good for reference)
# Note: For Pages, production bindings are set in the Cloudflare Dashboard > Settings > Functions
[env.production]
[[env.production.d1_databases]]
binding = "DB"
database_name = "playims-central-db-prod"
database_id = "b20ff0a2-3fac-4645-a45a-bd7de64ec2a3"
migrations_dir = "src/lib/database/migrations"
